{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?3733","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","directives","rawName","status","expression","staticClass","modifiers","domProps","on","$event","target","composing","channelNumber","_n","$forceUpdate","connect","_v","_s","_l","message","index","outBoundMessage","send","staticRenderFns","pc","id","weWaited","signalingChannel","haveLocalMedia","myVideoStream","myVideo","yourVideoStream","yourVideo","messages","methods","handleMsg","msg","type","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","sdpMLineIndex","mlineindex","candidate","scHandlers","onWaiting","self","setStatus","onConnected","createPC","onMessage","createSignalingChannel","errorCB","document","getElementById","innerHTML","handlers","failureCB","handler","readyState","DONE","response","res","JSON","parse","err","poll","waitingHandler","connectedHandler","client","XMLHttpRequest","onreadystatechange","open","pollWaitDelay","delay","reset","counter","increase","getLoop","msgs","handleMessage","setTimeout","getResponseHandler","stringify","responseHandler","sendData","stunUri","config","url","turnUri","credential","RTCPeerConnection","iceServers","onicecandidate","e","onaddstream","onremovestream","addStream","alert","createOffer","mounted","navigator","getUserMedia","audio","video","component","Vue","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.037ee7d1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status == 'init' || _vm.status == 'Waiting'),expression:\"status == 'init' || status == 'Waiting'\"}],staticClass:\"startChat\"},[_c('div',{staticClass:\"startBox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.channelNumber),expression:\"channelNumber\",modifiers:{\"number\":true}}],staticClass:\"channelInput\",attrs:{\"type\":\"number\",\"placeholder\":\"Channel Number\"},domProps:{\"value\":(_vm.channelNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.channelNumber=_vm._n($event.target.value)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{staticClass:\"connectButton\",on:{\"click\":_vm.connect}},[_vm._v(\"Connect\")]),_c('p',[_vm._v(\"Status: \"+_vm._s(_vm.status))])]),_c('div',{staticClass:\"copyright\"},[_vm._v(\" CS 552 Project - Online Video Chat \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status != 'init' && _vm.status != 'Waiting'),expression:\"status != 'init' && status != 'Waiting'\"}],staticClass:\"chatBox\"},[_c('div',{staticClass:\"textBox\"},[_c('div',{staticClass:\"messages\"},_vm._l((_vm.messages),function(message,index){return _c('div',{key:index},[_vm._v(_vm._s(message))])}),0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.outBoundMessage),expression:\"outBoundMessage\"}],staticClass:\"outBoundInput\",domProps:{\"value\":(_vm.outBoundMessage)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.outBoundMessage=$event.target.value}}}),_c('button',{staticClass:\"sendButton\",on:{\"click\":function($event){return _vm.send(_vm.outBoundMessage)}}},[_vm._v(\"Send\")])]),_c('div',{staticClass:\"videoBox\"},[_c('div',{staticClass:\"cameras\"},[_c('div',{staticClass:\"myVideo\"},[_c('video',{attrs:{\"autoplay\":\"autoplay\",\"id\":\"myVideo\",\"controls\":\"\",\"muted\":\"true\"},domProps:{\"muted\":true}})]),_c('div',{staticClass:\"yourVideo\"},[_c('video',{attrs:{\"id\":\"yourVideo\",\"autoplay\":\"autoplay\",\"controls\":\"\",\"muted\":\"true\"},domProps:{\"muted\":true}})])]),_c('p',[_vm._v(\"Status: \"+_vm._s(_vm.status))]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status == 'Ready for call'),expression:\"status == 'Ready for call'\"}],staticClass:\"sendButton\",on:{\"click\":_vm.call}},[_vm._v(\"Call\")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div v-show=\"status == 'init' || status == 'Waiting'\" class=\"startChat\">\n      <div class=\"startBox\">\n        <input \n          class=\"channelInput\"\n          v-model.number=\"channelNumber\"\n          type=\"number\"\n          placeholder=\"Channel Number\" />\n        <button class=\"connectButton\" @click=\"connect\">Connect</button>\n        <p>Status: {{status}}</p>\n      </div>\n      <div class=\"copyright\">\n        CS 552 Project - Online Video Chat\n      </div>\n    </div>\n    <div v-show=\"status != 'init' && status != 'Waiting'\" class=\"chatBox\">\n        <div class=\"textBox\">\n          <div class=\"messages\">\n            <div v-for=\"(message, index) in messages\" :key=\"index\">{{message}}</div>\n          </div>\n          <input class=\"outBoundInput\" v-model=\"outBoundMessage\" />\n          <button class=\"sendButton\" @click=\"send(outBoundMessage)\">Send</button>\n        </div>\n        <div class=\"videoBox\">\n          <div class=\"cameras\">\n            <div class=\"myVideo\">\n              <video autoplay=\"autoplay\" id=\"myVideo\" controls muted=\"true\" />\n            </div>\n            <div class=\"yourVideo\">\n              <video id=\"yourVideo\" autoplay=\"autoplay\" controls muted=\"true\"/>\n            </div>\n          </div>\n          <p>Status: {{status}}</p>\n          <button class=\"sendButton\" @click=\"call\" v-show=\"status == 'Ready for call'\">Call</button>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  data() {\n    return {\n      outBoundMessage: '',\n      channelNumber: '',\n      pc: null,\n      id: '',\n      status: 'init',\n      weWaited: '',\n      signalingChannel: '',\n      haveLocalMedia: false,\n      myVideoStream: null,\n      myVideo: null,\n      yourVideoStream: null,\n      yourVideo: null,\n      messages: []\n    }\n  },\n  methods: {\n    connect() {\n      let errorCB, scHandlers, handleMsg\n      let key = this.channelNumber\n      handleMsg = msg => {\n        if (typeof msg === 'string') {\n          this.messages.push(`Received: ${msg}`)\n        }\n        if (msg.type === 'offer') {\n          this.pc.setRemoteDescription(new RTCSessionDescription(msg))\n          this.pc.createAnswer(localDesc => {\n            this.pc.setLocalDescription(localDesc)\n            this.send(localDesc)\n          }, _ => {_}, {\n            mandatory: {\n              OfferToReceiveAudio: true,\n              OfferToReceiveVideo: true\n            }\n          })\n        } else if (msg.type === 'answer') {\n          this.pc.setRemoteDescription(new RTCSessionDescription(msg))\n        } else if (msg.type === 'candidate') {\n          this.pc.addIceCandidate(new RTCIceCandidate({\n            sdpMLineIndex: msg.mlineindex,\n            candidate: msg.candidate\n          }))\n        }\n      }\n      let self = this\n      scHandlers = {\n        onWaiting() {\n          self.setStatus('Waiting')\n          self.weWaited = true\n        },\n        onConnected() {\n          self.setStatus('Connected')\n          self.createPC()\n        },\n        onMessage: handleMsg\n      }\n\n      this.signalingChannel = this.createSignalingChannel(key, scHandlers)\n      errorCB = function (msg) {\n        document.getElementById('response').innerHTML = msg\n      }\n\n      this.signalingChannel.connect(errorCB)\n    },\n\n    createSignalingChannel (key, handlers) {\n      handlers = handlers || {}\n\n      let id, status,\n      doNothing = function () { },\n      initHandler = function (h) {\n        return ((typeof h === 'function') && h) || doNothing;\n      },\n      waitingHandler = initHandler(handlers.onWaiting),\n      connectedHandler = initHandler(handlers.onConnected),\n      messageHandler = initHandler(handlers.onMessage);\n\n\n      // Set up connection with signaling server\n      function connect(failureCB) {\n        failureCB = (typeof failureCB === 'function') ||\n          function () { };\n\n        // Handle connection response, which should be error or status\n        //  of \"connected\" or \"waiting\"\n        function handler() {\n          if (this.readyState == this.DONE) {\n            if (this.status == 200 && this.response != null) {\n              var res = JSON.parse(this.response);\n              if (res.err) {\n                failureCB(\"error:  \" + res.err);\n                return;\n              }\n\n              // if no error, save status and server-generated id,\n              // then start asynchronouse polling for messages\n              id = res.id;\n              status = res.status;\n              poll();\n\n              // run user-provided handlers for waiting and connected\n              // states\n              if (status === \"waiting\") {\n                waitingHandler();\n              } else {\n                connectedHandler();\n              }\n              return;\n            } else {\n              failureCB(\"HTTP error:  \" + this.status);\n              return;\n            }\n          }\n        }\n\n        // open XHR and send the connection request with the key\n        var client = new XMLHttpRequest();\n        client.onreadystatechange = handler;\n        client.open(\"GET\", \"/connect?key=\" + key);\n        client.send();\n      }\n\n      // poll() waits n ms between gets to the server.  n is at 10 ms\n      // for 10 tries, then 100 ms for 10 tries, then 1000 ms from then\n      // on. n is reset to 10 ms if a message is actually received.\n      function poll() {\n        var pollWaitDelay = (function () {\n          var delay = 10, counter = 1;\n\n          function reset() {\n            delay = 10;\n            counter = 1;\n          }\n\n          function increase() {\n            counter += 1;\n            if (counter > 20) {\n              delay = 1000;\n            } else if (counter > 10) {\n              delay = 100;\n            }                          // else leave delay at 10\n          }\n\n          function value() {\n            return delay;\n          }\n\n          return { reset: reset, increase: increase, value: value };\n        } ());\n\n        // getLoop is defined and used immediately here.  It retrieves\n        // messages from the server and then schedules itself to run\n        // again after pollWaitDelay.value() milliseconds.\n        (function getLoop() {\n          get(function (response) {\n            var i, msgs = (response && response.msgs) || [];\n\n            // if messages property exists, then we are connected   \n            if (response.msgs && (status !== \"connected\")) {\n              // switch status to connected since it is now!\n              status = \"connected\";\n              connectedHandler();\n            }\n            if (msgs.length > 0) {           // we got messages\n              pollWaitDelay.reset();\n              for (i = 0; i < msgs.length; i += 1) {\n                handleMessage(msgs[i]);\n              }\n            } else {                         // didn't get any messages\n              pollWaitDelay.increase();\n            }\n\n            // now set timer to check again\n            setTimeout(getLoop, pollWaitDelay.value());\n          });\n        } ());\n      }\n\n\n      // This function is part of the polling setup to check for\n      // messages from the other browser.  It is called by getLoop()\n      // inside poll().\n      function get(getResponseHandler) {\n\n        // response should either be error or a JSON object.  If the\n        // latter, send it to the user-provided handler.\n        function handler() {\n          if (this.readyState == this.DONE) {\n            if (this.status == 200 && this.response != null) {\n              var res = JSON.parse(this.response);\n              if (res.err) {\n                getResponseHandler(\"error:  \" + res.err);\n                return;\n              }\n              getResponseHandler(res);\n              return res;\n            } else {\n              getResponseHandler(\"HTTP error:  \" + this.status);\n              return;\n            }\n          }\n        }\n\n        // open XHR and request messages for my id\n        var client = new XMLHttpRequest();\n        client.onreadystatechange = handler;\n        client.open(\"POST\", \"/get\");\n        client.send(JSON.stringify({ \"id\": id }));\n      }\n\n\n      // Schedule incoming messages for asynchronous handling.\n      // This is used by getLoop() in poll().\n      function handleMessage(msg) {   // process message asynchronously\n        setTimeout(function () { messageHandler(msg); }, 0);\n      }\n\n\n      // Send a message to the other browser on the signaling channel\n      function send(msg, responseHandler) {\n        responseHandler = responseHandler || function () { };\n\n        // parse response and send to handler\n        function handler() {\n          if (this.readyState == this.DONE) {\n            if (this.status == 200 && this.response != null) {\n              var res = JSON.parse(this.response);\n              if (res.err) {\n                responseHandler(\"error:  \" + res.err);\n                return;\n              }\n              responseHandler(res);\n              return;\n            } else {\n              responseHandler(\"HTTP error:  \" + this.status);\n              return;\n            }\n          }\n        }\n\n        // open XHR and send my id and message as JSON string\n        var client = new XMLHttpRequest();\n        client.onreadystatechange = handler;\n        client.open(\"POST\", \"/send\");\n        var sendData = { \"id\": id, \"message\": msg };\n        client.send(JSON.stringify(sendData));\n      }\n\n\n      return {\n        connect: connect,\n        send: send\n      };\n    },\n\n    setStatus(status) {\n      this.status = status\n    },\n\n    createPC() {\n      let stunUri = true,\n        turnUri = false,\n        config = new Array();\n      if (stunUri) {\n        config.push({\n          url: 'stun:stunserver.org'\n        })\n      }\n      if (turnUri) {\n        if (stunUri) {\n          config.push({\n            url: 'turn:user@turn.webrtcbook.com',\n            credential: 'test'\n          })\n        } else {\n          config.push({\n            url: 'turn:user@turn-only.webrtcbook.com',\n            credential: 'test'\n          })\n        }\n      }\n      this.pc = new RTCPeerConnection({\n        iceServers: config\n      })\n      this.pc.onicecandidate = e => {\n        if (e.candidate) {\n          this.send({\n            type: 'candidate',\n            mlineindex: e.candidate.sdpMLineIndex,\n            candidate: e.candidate.candidate\n          })\n        }\n      }\n      this.pc.onaddstream = e => {\n        this.yourVideoStream = e.stream\n        this.yourVideo.srcObject = this.yourVideoStream\n        this.setStatus('On call')\n      }\n      this.pc.onremovestream = _ => {_}\n\n      if (this.pc && this.haveLocalMedia) {\n        this.pc.addStream(this.myVideoStream)\n        this.setStatus('Ready for call')\n      }\n    },\n\n    connectedHandler() {\n      alert('123')\n    },\n\n    send(msg) {\n      if (typeof msg === 'string') {\n        this.messages.push(`Sent: ${msg}`)\n      }\n      this.signalingChannel.send(msg)\n    },\n    \n    call() {\n      this.pc.createOffer(localDesc => {\n        this.pc.setLocalDescription(localDesc)\n        this.send(localDesc)\n      }, _ => {_}, {\n        mandatory: {\n          OfferToReceiveAudio: true,\n          OfferToReceiveVideo: true\n        }\n      })\n    }\n  },\n\n  mounted() {\n    this.myVideo = document.getElementById('myVideo')\n    this.yourVideo = document.getElementById('yourVideo');\n    navigator.getUserMedia({\n      audio: true,\n      video: true\n    }, (stream) => {\n      this.myVideoStream = stream\n      this.haveLocalMedia = true\n      this.myVideo.srcObject = this.myVideoStream\n\n      if (this.pc && this.haveLocalMedia) {\n        this.pc.addStream(this.myVideoStream)\n        this.setStatus('Ready for call')\n      }\n    }, (e) => {\n      alert(`${e}`)\n    })\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n  font-family: Helvetica Neue, Helvetica, Hiragino Sans GB, Microsoft YaHei, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#app, body, html {\n  height: 100%;\n}\n\n#app {\n  min-height: 768px;\n  background: url(//res.wx.qq.com/a/wx_fed/webwx/res/static/img/2zrdI1g.jpg) no-repeat 50%;\n  background-size: cover;\n\n  display: flex;\n  justify-content: center;\n}\n\n.startChat {\n  display: flex;\n  justify-content: center;\n}\n\n.startBox {\n  margin-top: 192px;\n  background-color: white;\n  width: 384px;\n  height: 512px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.copyright {\n  position: absolute;\n  bottom: 60px;\n  right: 60px;\n  color: #d3d3d3;\n  font-size: 12px;\n}\n\n.channelInput{\n  font-size: 56px;\n  margin-top: 100px;\n  width: 240px;\n  height: 56px;\n  line-height: 56px;\n}\n\n.channelInput::placeholder {\n  font-size: 24px;\n}\n\n.connectButton {\n  outline: none;\n  color: white;\n  background-color: #409eff;\n  margin-top: 50px;\n  width: 150px;\n  height: 40px;\n}\n\n.sendButton {\n  outline: none;\n  color: white;\n  background-color: #b2e281;\n  margin-top: 15px;\n  width: 150px;\n  height: 40px;\n}\n\n.chatBox {\n  margin-top: 100px;\n  background-color: white;\n  height: 80%;\n  width: 70%;\n\n  display: flex;\n  justify-content: center;\n}\n\n.textBox {\n  width: 30%;\n  background-color: #2e3238;\n  color: white;\n  border-right: black 1px solid;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n}\n\n.videoBox {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 70%;\n}\n\n.messages {\n  height: 80%;\n  width: 100%;\n}\n\n.outBoundInput {\n  width: 99%;\n  height: 30px;\n}\n\n.cameras {\n  display:flex;\n  height: 85%;\n  width: 100%;\n}\n\n.myVideo, #myVideo {\n  width: 100%;\n  height: 100%;\n}\n\n.yourVideo, #yourVideo {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=16e77e4e&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}